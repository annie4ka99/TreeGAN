 public int getType() { if (type == TYPE_UNKNOWN) { calculateType(); } return type; } 