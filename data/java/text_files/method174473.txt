 public int remainingCapacity() { lock.lock(); try { return capacity - count; } finally { lock.unlock(); } } 