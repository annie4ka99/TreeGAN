 private boolean invariant() { return scaleFactor > 0 && resource != null && state != null; } 