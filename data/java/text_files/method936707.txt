 protected long doGetLength() { if (file.isDirectory()) { return 0L; } else { return file.length(); } } 